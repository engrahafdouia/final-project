import{f as y}from"./forwardRefs.54bb1675.js";import{g as C,a5 as S,u as b,a6 as h,b as M,r as O,a7 as w,a8 as D,q as x,c as m,h as v}from"./index.2913e436.js";import{m as $,V as A,u as I,a as p,f as R,b as T}from"./VOverlay.155a74ae.js";import{u as U,V as j}from"./VAvatar.88ab4967.js";const B=C()({name:"VMenu",props:{id:String,...S($({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:A}}),["absolute"])},emits:{"update:modelValue":a=>!0},setup(a,f){let{slots:s}=f;const t=b(a,"modelValue"),{scopeId:V}=I(),g=h(),u=M(()=>a.id||`v-menu-${g}`),i=O(),e=w(p,null);let n=0;D(p,{register(){++n},unregister(){--n},closeParents(){setTimeout(()=>{n||(t.value=!1,e==null||e.closeParents())},40)}}),x(t,l=>{l?e==null||e.register():e==null||e.unregister()});function P(){e==null||e.closeParents()}return U(()=>{const[l]=R(a);return m(T,v({ref:i,class:["v-menu"]},l,{modelValue:t.value,"onUpdate:modelValue":o=>t.value=o,absolute:!0,activatorProps:v({"aria-haspopup":"menu","aria-expanded":String(t.value),"aria-owns":u.value},a.activatorProps),"onClick:outside":P},V),{activator:s.activator,default:function(){for(var o,c=arguments.length,d=new Array(c),r=0;r<c;r++)d[r]=arguments[r];return m(j,{root:!0},{default:()=>[(o=s.default)==null?void 0:o.call(s,...d)]})}})}),y({id:u},i)}});export{B as V};
